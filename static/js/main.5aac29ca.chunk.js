(window["webpackJsonpalternative-admin-ui"]=window["webpackJsonpalternative-admin-ui"]||[]).push([[0],{102:function(e,a,t){},103:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(9),l=t.n(i),c=t(137),u=t(144),o=t(14),s=t.n(o),m=t(26),p=t(39),d=t(59),f=t(69),b=t(60),g=t(70),v=t(23),h=t(25),E=t(27),x=t(149),w=t(140),S=t(145),y=t(138),N=t(147),j=t(135),O=t(141),k=t(146),C=t(45),W=t.n(C),I=t(71),T=t(62),D=t(136);function U(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var A=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),q=function(e){var a=e.onSubmit,t=e.isSubmit,n=A(),i=r.a.useState(""),l=Object(E.a)(i,2),u=l[0],o=l[1],s=r.a.useState(""),m=Object(E.a)(s,2),p=m[0],d=m[1];return r.a.createElement(D.a,{component:"main",maxWidth:"xs"},r.a.createElement(c.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement(x.a,{className:n.avatar},r.a.createElement(W.a,null)),r.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:n.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),a({email:u,password:p})}},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){var a=e.target.value;o(a)}}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){var a=e.target.value;d(a)}}),r.a.createElement(y.a,{control:r.a.createElement(N.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:t},"Sign In"),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(j.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(O.a,{item:!0},r.a.createElement(v.b,{to:"/sign-up"},"Don't have an account? Sign Up"))))),r.a.createElement(k.a,{mt:8},r.a.createElement(U,null)))};function F(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var H=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),P=function(e){var a=e.onSubmit,t=e.isSubmit,n=r.a.useState(""),i=Object(E.a)(n,2),l=i[0],u=i[1],o=r.a.useState(""),s=Object(E.a)(o,2),m=s[0],p=s[1],d=r.a.useState(""),f=Object(E.a)(d,2),b=f[0],g=f[1],h=r.a.useState(""),j=Object(E.a)(h,2),C=j[0],T=j[1],U=H();return r.a.createElement(D.a,{component:"main",maxWidth:"xs"},r.a.createElement(c.a,null),r.a.createElement("div",{className:U.paper},r.a.createElement(x.a,{className:U.avatar},r.a.createElement(W.a,null)),r.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:U.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var t={name:"".concat(l," ").concat(m),email:b,password:C};a(t)}},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){var a=e.target.value;u(a)}})),r.a.createElement(O.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){var a=e.target.value;p(a)}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){var a=e.target.value;g(a)}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){var a=e.target.value;T(a)}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{control:r.a.createElement(N.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:U.submit,disabled:t},"Sign Up"),r.a.createElement(O.a,{container:!0,justify:"flex-end"},r.a.createElement(O.a,{item:!0},r.a.createElement(v.b,{to:"/sign-in"},"Already have an account? Sign in"))))),r.a.createElement(k.a,{mt:5},r.a.createElement(F,null)))},B=t(148),J=t(142),Y=t(143),G=t(139),R=t(66),M=t.n(R),V=Object(T.a)((function(e){return Object(B.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},register:{textDecoration:"none"}})})),z=function(e){var a=e.userName,t=V();return r.a.createElement("div",{className:t.root},r.a.createElement(J.a,{position:"static"},r.a.createElement(Y.a,null,r.a.createElement(G.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(M.a,null)),r.a.createElement(I.a,{variant:"h6",className:t.title},"Alternative"),a?r.a.createElement(w.a,{color:"inherit"},"Hello, ".concat(a)):r.a.createElement(v.b,{to:"/sign-up",className:t.register},r.a.createElement(w.a,{color:"inherit"},"Register")))))},L=function(e){var a=e.userName;return r.a.createElement("div",null,r.a.createElement(z,{userName:a}),r.a.createElement(D.a,{maxWidth:"sm"},"Home"))},K=function(e){localStorage.setItem("token",e)},Q=new function e(){Object(p.a)(this,e),this.signUp=function(){var e=Object(m.a)(s.a.mark((function e(a){var t,n,r,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),n=JSON.stringify(a),r={method:"POST",headers:t,body:n},e.next=7,fetch("/users",r);case 7:if(i=e.sent,201!==i.status){e.next=15;break}return e.next=12,i.json();case 12:return l=e.sent,K(l.token),e.abrupt("return",{name:l.user.name});case 15:return e.abrupt("return",null);case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(a){return e.apply(this,arguments)}}(),this.signIn=function(){var e=Object(m.a)(s.a.mark((function e(a){var t,n,r,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),n=JSON.stringify(a),r={method:"POST",headers:t,body:n},e.next=7,fetch("/users/login",r);case 7:if(i=e.sent,200!==i.status){e.next=15;break}return e.next=12,i.json();case 12:return l=e.sent,K(l.token),e.abrupt("return",{name:l.user.name});case 15:return e.abrupt("return",null);case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(a){return e.apply(this,arguments)}}(),this.getUser=Object(m.a)(s.a.mark((function e(){var a,t,n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return",null);case 4:return(t=new Headers).append("Content-Type","application/json"),t.append("Authorization","Bearer ".concat(a)),n={method:"GET",headers:t},e.next=10,fetch("/users/me",n);case 10:if(r=e.sent,200!==r.status){e.next=17;break}return e.next=15,r.json();case 15:return i=e.sent,e.abrupt("return",{name:i.name});case 17:return e.abrupt("return",null);case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))};function X(e){var a=e.pending,t=e.failure;return a&&!t}function Z(e){var a=e.pending,t=e.failure,n=e.result;return!a&&!t&&null!==n}var $={failure:!1,pending:!1,result:null},_={failure:!1,pending:!0,result:null},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{failure:!0,pending:!1,result:null,errorMessage:e}};function ae(e){return{failure:!1,pending:!1,result:e}}var te=t(67),ne=t.n(te),re=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={userName:$},t.handleSignUp=function(){var e=Object(m.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.signUp(a);case 2:if(n=e.sent,t.setState({userName:_}),!n){e.next=6;break}return e.abrupt("return",t.setState({userName:ae(n.name)}));case 6:t.setState({userName:ee("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a:(")});case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.handleSignIn=function(){var e=Object(m.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.signIn(a);case 2:if(n=e.sent,t.setState({userName:_}),!n){e.next=6;break}return e.abrupt("return",t.setState({userName:ae(n.name)}));case 6:t.setState({userName:ee("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a:(")});case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t}return Object(g.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getUser();case 2:(a=e.sent)&&this.setState({userName:ae(a.name)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state.userName;return r.a.createElement("div",{className:ne.a.container},r.a.createElement(v.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/sign-up",exact:!0,render:function(){return Z(a)?r.a.createElement(h.a,{to:"/"}):r.a.createElement(P,{isSubmit:X(a),onSubmit:e.handleSignUp})}}),r.a.createElement(h.b,{path:"/sign-in",exact:!0,render:function(){return Z(a)?r.a.createElement(h.a,{to:"/"}):r.a.createElement(q,{isSubmit:X(a),onSubmit:e.handleSignIn})}}),r.a.createElement(h.b,{path:"/",exact:!0,render:function(){return Z(a)?r.a.createElement(L,{userName:a.result}):r.a.createElement(h.a,{to:"/sign-up"})}}))))}}]),a}(r.a.PureComponent),ie=t(47),le=t(68),ce=Object(le.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:ie.a.A400},background:{default:"#fff"}}});t(102);l.a.render(r.a.createElement(u.a,{theme:ce},r.a.createElement(c.a,null),r.a.createElement(re,null)),document.getElementById("root"))},67:function(e,a,t){},90:function(e,a,t){e.exports=t(103)}},[[90,1,2]]]);
//# sourceMappingURL=main.5aac29ca.chunk.js.map