(this["webpackJsonpalternative-admin-ui"]=this["webpackJsonpalternative-admin-ui"]||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(9),u=a.n(i),o=a(145),l=a(152),s=a(33),m=a(28),p=a(65),E=a(66),d=a.n(E),f=a(49),S=a(76),v=Object(S.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:f.a.A400},background:{default:"#fff"}}});!function(e){e.Initial="initial",e.Pending="pending",e.Success="success",e.Failure="failure"}(n||(n={}));var g={type:n.Initial},N={type:n.Pending},h=function(e){return{type:n.Success,value:e}},b=function(e){return{type:n.Failure,value:e}};a(15);function I(e,t,a,r,c){switch(e.type){case n.Initial:return t();case n.Pending:return a();case n.Success:return r(e.value);case n.Failure:return c(e.value)}}function _(e,t){return I(e,(function(){return g}),(function(){return N}),(function(e){return h(t(e))}),(function(e){return b(e)}))}function y(e){var t=e.data,a=e.renderPending,n=e.renderFailure,c=e.predicateNoData,i=e.renderNoData,u=e.children;return I(t,a||function(){return r.createElement("div",null,"Initial...")},a||function(){return r.createElement("div",null,"Pending...")},(function(e){return c&&i&&c(e)?i(e):u(e)}),n||function(){return r.createElement("div",null,"Failure")})}var U,x=a(14),w=a.n(x),C=a(24),j=a(38),G=function(e){localStorage.setItem("token",e)},O=function(){var e=new Headers;return e.append("Content-Type","application/json"),e},P=function(){var e=O(),t=localStorage.getItem("token");return e.append("Authorization","Bearer ".concat(t)),e},A=new function e(){Object(j.a)(this,e),this.signUp=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n,r,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=O(),n=JSON.stringify(t),r={method:"POST",headers:a,body:n},e.next=6,fetch("/users",r);case 6:if(c=e.sent,201!==c.status){e.next=14;break}return e.next=11,c.json();case 11:return i=e.sent,G(i.token),e.abrupt("return",{name:i.user.name});case 14:return e.abrupt("return",null);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),this.signIn=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n,r,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=O(),n=JSON.stringify(t),r={method:"POST",headers:a,body:n},e.next=6,fetch("/users/login",r);case 6:if(c=e.sent,200!==c.status){e.next=14;break}return e.next=11,c.json();case 11:return i=e.sent,G(i.token),e.abrupt("return",{name:i.user.name});case 14:return e.abrupt("return",null);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),this.getUser=Object(C.a)(w.a.mark((function e(){var t,a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=P(),a={method:"GET",headers:t},e.next=5,fetch("/users/me",a);case 5:if(n=e.sent,200!==n.status){e.next=12;break}return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",{name:r.name});case 12:return e.abrupt("return",null);case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))};!function(e){e.SET_USERNAME_PENDING="SET_USERNAME_PENDING",e.SET_USERNAME_SUCCESS="SET_USERNAME_SUCCESS",e.SET_USERNAME_FAILURE="SET_USERNAME_FAILURE"}(U||(U={}));var R,F=function(e){return{type:U.SET_USERNAME_SUCCESS,payload:e}},k=g,D=a(36);!function(e){e.SIGN_UP_PENDING="SIGN_UP_PENDING",e.SIGN_UP_SUCCESS="SIGN_UP_SUCCESS",e.SIGN_UP_FAILURE="SIGN_UP_FAILURE",e.SIGN_IN_PENDING="SIGN_IN_PENDING",e.SIGN_IN_SUCCESS="SIGN_IN_SUCCESS",e.SIGN_IN_FAILURE="SIGN_IN_FAILURE"}(R||(R={}));var T=function(e){return{type:R.SIGN_UP_SUCCESS,payload:e}},L=function(e){return{type:R.SIGN_UP_FAILURE,payload:e}},M=function(e){return{type:R.SIGN_IN_SUCCESS,payload:e}},W=function(e){return{type:R.SIGN_IN_FAILURE,payload:e}},q={signUp:g,signIn:g},B=Object(s.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.SET_USERNAME_PENDING:return N;case U.SET_USERNAME_SUCCESS:return h(t.payload);case U.SET_USERNAME_FAILURE:return b(t.payload);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SIGN_UP_PENDING:return Object(D.a)({},e,{signUp:N});case R.SIGN_UP_SUCCESS:return Object(D.a)({},e,{signUp:h(t.payload)});case R.SIGN_UP_FAILURE:return Object(D.a)({},e,{signUp:b(t.payload)});case R.SIGN_IN_PENDING:return Object(D.a)({},e,{signIn:N});case R.SIGN_IN_SUCCESS:return Object(D.a)({},e,{signIn:h(t.payload)});case R.SIGN_IN_FAILURE:return Object(D.a)({},e,{signIn:b(t.payload)});default:return e}}}),J=a(29),Y=a(68),H=a(69),V=a(77),z=a(27),K=a(32),Q=a(16),X=a(157),Z=a(148),$=a(153),ee=a(146),te=a(155),ae=a(143),ne=a(149),re=a(154),ce=a(47),ie=a.n(ce),ue=a(78),oe=a(72),le=a(144);function se(){return c.a.createElement(ue.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",c.a.createElement(ae.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var me=Object(oe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),pe=Object(m.b)((function(e){return{formState:_(e.auth.signIn,(function(e){return null}))}}),(function(e){return{onSubmit:function(t){e(function(e){return function(){var t=Object(C.a)(w.a.mark((function t(a,n){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:R.SIGN_IN_PENDING}),t.prev=1,t.next=4,A.signIn(e);case 4:(r=t.sent)?(a(M(r)),a(F(r))):a(W(new Error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(W(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.onSubmit,a=e.formState,r=me(),i=c.a.useState(""),u=Object(Q.a)(i,2),l=u[0],s=u[1],m=c.a.useState(""),p=Object(Q.a)(m,2),E=p[0],d=p[1];return c.a.createElement(le.a,{component:"main",maxWidth:"xs"},c.a.createElement(o.a,null),c.a.createElement("div",{className:r.paper},c.a.createElement(X.a,{className:r.avatar},c.a.createElement(ie.a,null)),c.a.createElement(ue.a,{component:"h1",variant:"h5"},"Sign in"),a.type===n.Failure&&c.a.createElement(ue.a,{component:"h6",variant:"h6",color:"error"},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),c.a.createElement("form",{className:r.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),t({email:l,password:E})}},c.a.createElement($.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){var t=e.target.value;s(t)}}),c.a.createElement($.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){var t=e.target.value;d(t)}}),c.a.createElement(ee.a,{control:c.a.createElement(te.a,{value:"remember",color:"primary"}),label:"Remember me"}),c.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,disabled:a.type===n.Pending},"Sign In"),c.a.createElement(ne.a,{container:!0},c.a.createElement(ne.a,{item:!0,xs:!0},c.a.createElement(ae.a,{href:"#",variant:"body2"},"Forgot password?")),c.a.createElement(ne.a,{item:!0},c.a.createElement(z.b,{to:"/sign-up"},"Don't have an account? Sign Up"))))),c.a.createElement(re.a,{mt:8},c.a.createElement(se,null)))}));function Ee(){return c.a.createElement(ue.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",c.a.createElement(ae.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var de=Object(oe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),fe=Object(m.b)((function(e){return{formState:_(e.auth.signUp,(function(){return null}))}}),(function(e){return{onSubmit:function(t){e(function(e){return function(){var t=Object(C.a)(w.a.mark((function t(a,n){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:R.SIGN_UP_PENDING}),t.prev=1,t.next=4,A.signUp(e);case 4:(r=t.sent)?(a(T(r)),a(F(r))):a(L(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435"))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(L(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.onSubmit,a=e.formState,r=c.a.useState(""),i=Object(Q.a)(r,2),u=i[0],l=i[1],s=c.a.useState(""),m=Object(Q.a)(s,2),p=m[0],E=m[1],d=c.a.useState(""),f=Object(Q.a)(d,2),S=f[0],v=f[1],g=c.a.useState(""),N=Object(Q.a)(g,2),h=N[0],b=N[1],I=de();return console.log("SignUp",a),c.a.createElement(le.a,{component:"main",maxWidth:"xs"},c.a.createElement(o.a,null),c.a.createElement("div",{className:I.paper},c.a.createElement(X.a,{className:I.avatar},c.a.createElement(ie.a,null)),c.a.createElement(ue.a,{component:"h1",variant:"h5"},"Sign up"),a.type===n.Failure&&c.a.createElement(ue.a,{component:"h6",variant:"h6",color:"error"},"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435"),c.a.createElement("form",{className:I.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var a={name:"".concat(u," ").concat(p),email:S,password:h};t(a)}},c.a.createElement(ne.a,{container:!0,spacing:2},c.a.createElement(ne.a,{item:!0,xs:12,sm:6},c.a.createElement($.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){var t=e.target.value;l(t)}})),c.a.createElement(ne.a,{item:!0,xs:12,sm:6},c.a.createElement($.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){var t=e.target.value;E(t)}})),c.a.createElement(ne.a,{item:!0,xs:12},c.a.createElement($.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){var t=e.target.value;v(t)}})),c.a.createElement(ne.a,{item:!0,xs:12},c.a.createElement($.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){var t=e.target.value;b(t)}})),c.a.createElement(ne.a,{item:!0,xs:12},c.a.createElement(ee.a,{control:c.a.createElement(te.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),c.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:I.submit,disabled:a.type===n.Pending},"Sign Up"),c.a.createElement(ne.a,{container:!0,justify:"flex-end"},c.a.createElement(ne.a,{item:!0},c.a.createElement(z.b,{to:"/sign-in"},"Already have an account? Sign in"))))),c.a.createElement(re.a,{mt:5},c.a.createElement(Ee,null)))})),Se=a(156),ve=a(150),ge=a(151),Ne=a(147),he=a(74),be=a.n(he),Ie=Object(oe.a)((function(e){return Object(Se.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},register:{textDecoration:"none"}})})),_e=function(e){var t=e.userName,a=Ie();return c.a.createElement("div",{className:a.root},c.a.createElement(ve.a,{position:"static"},c.a.createElement(ge.a,null,c.a.createElement(Ne.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},c.a.createElement(be.a,null)),c.a.createElement(ue.a,{variant:"h6",className:a.title},"Alternative"),t?c.a.createElement(Z.a,{color:"inherit"},"Hello, ".concat(t)):c.a.createElement(z.b,{to:"/sign-up",className:a.register},c.a.createElement(Z.a,{color:"inherit"},"Register")))))},ye=function(e){var t=e.userName;return c.a.createElement("div",null,c.a.createElement(_e,{userName:t}),c.a.createElement(le.a,{maxWidth:"sm"},"Home"))},Ue=a(75),xe=a.n(Ue),we=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(Y.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).renderSuccess=function(e){return c.a.createElement(z.a,{basename:"/alternative-admin-ui"},c.a.createElement(K.d,null,c.a.createElement(K.b,{path:"/sign-up",exact:!0,render:function(){return e?c.a.createElement(K.a,{to:"/"}):c.a.createElement(fe,null)}}),c.a.createElement(K.b,{path:"/sign-in",exact:!0,render:function(){return e?c.a.createElement(K.a,{to:"/"}):c.a.createElement(pe,null)}}),c.a.createElement(K.b,{path:"/",exact:!0,render:function(){return e?c.a.createElement(ye,{userName:e}):c.a.createElement(K.a,{to:"/sign-in"})}})))},a}return Object(V.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUser()}},{key:"render",value:function(){var e=this,t=this.props.userName;return c.a.createElement("div",{className:xe.a.container},c.a.createElement(y,{data:t},(function(t){return e.renderSuccess(t)})))}}]),t}(c.a.PureComponent),Ce=Object(m.b)((function(e){return{userName:_(e.user,(function(e){return e&&e.name}))}}),(function(e){return{requestUser:function(){e(function(){var e=Object(C.a)(w.a.mark((function e(t,a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:U.SET_USERNAME_PENDING}),e.prev=1,e.next=4,A.getUser();case 4:n=e.sent,t(F(n||void 0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:U.SET_USERNAME_FAILURE,payload:a}));case 11:case"end":return e.stop()}var a}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(we),je=(a(110),Object(s.d)(B,Object(s.a)(d.a,p.a)));u.a.render(c.a.createElement(l.a,{theme:v},c.a.createElement(o.a,null),c.a.createElement(m.a,{store:je},c.a.createElement(Ce,null))),document.getElementById("root"))},75:function(e,t,a){},97:function(e,t,a){e.exports=a(111)}},[[97,1,2]]]);
//# sourceMappingURL=main.69fb90f1.chunk.js.map